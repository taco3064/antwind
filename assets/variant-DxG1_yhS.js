import{r,Q as M,aK as Ct,aL as Ke,bb as wt,U as Ye,a as q,z as Ge,P as j,br as yt,_ as Qe,X as It,A as te,ca as Pt,V as R,t as Ot,v as jt,b1 as Et,x as He,bt as We,aZ as Nt,a$ as Tt,b0 as Rt,a_ as Mt,w as de,L as _t,b9 as $t,cb as Ft,aY as At,ai as kt,J as Bt,p as Lt,bi as Dt,cc as qe,c6 as Vt,aw as zt,M as Kt,bn as Ht,bp as Wt,bq as qt,cd as Ut,j as f,q as Xt,B as Yt}from"./index-DERcz0tS.js";import{F as I,a as Gt,C as Qt,T as Jt,D as Je}from"./index-U8jkrcar.js";import{S as Zt}from"./index-D3V_51NA.js";import{I as Ue}from"./index-BtZWtbxq.js";import"./iconUtil-lbZ7WnGE.js";import"./index-BjnIb6lG.js";import"./index-CMa1RAee.js";import"./CalendarOutlined-BKIVj3DO.js";import"./ClockCircleOutlined-CSXZIceN.js";import"./Input-Cy4pw4s5.js";function en(){var e=r.useState({id:0,callback:null}),t=M(e,2),s=t[0],o=t[1],i=r.useCallback(function(u){o(function(a){var c=a.id;return{id:c+1,callback:u}})},[]);return r.useEffect(function(){var u;(u=s.callback)===null||u===void 0||u.call(s)},[s]),i}var Ze=r.createContext(null);function tn(e){var t=r.useContext(Ze),s=t.notFoundContent,o=t.activeIndex,i=t.setActiveIndex,u=t.selectOption,a=t.onFocus,c=t.onBlur,p=t.onScroll,m=e.prefixCls,x=e.options,C=x[o]||{};return r.createElement(Ct,{prefixCls:"".concat(m,"-menu"),activeKey:C.key,onSelect:function(w){var v=w.key,y=x.find(function(b){var P=b.key;return P===v});u(y)},onFocus:a,onBlur:c,onScroll:p},x.map(function(h,w){var v=h.key,y=h.disabled,b=h.className,P=h.style,E=h.label;return r.createElement(Ke,{key:v,disabled:y,className:b,style:P,onMouseEnter:function(){i(w)}},E)}),!x.length&&r.createElement(Ke,{disabled:!0},s))}var nn={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},an=function(t){var s=t.prefixCls,o=t.options,i=t.children,u=t.visible,a=t.transitionName,c=t.getPopupContainer,p=t.dropdownClassName,m=t.direction,x=t.placement,C="".concat(s,"-dropdown"),h=r.createElement(tn,{prefixCls:C,options:o}),w=r.useMemo(function(){var v;return m==="rtl"?v=x==="top"?"topLeft":"bottomLeft":v=x==="top"?"topRight":"bottomRight",v},[m,x]);return r.createElement(wt,{prefixCls:C,popupVisible:u,popup:h,popupPlacement:w,popupTransitionName:a,builtinPlacements:nn,getPopupContainer:c,popupClassName:p},i)},rn=function(){return null};function on(e){var t=e.selectionStart;return e.value.slice(0,t)}function ln(e,t){return t.reduce(function(s,o){var i=e.lastIndexOf(o);return i>s.location?{location:i,prefix:o}:s},{location:-1,prefix:""})}function Xe(e){return(e||"").toLowerCase()}function sn(e,t,s){var o=e[0];if(!o||o===s)return e;for(var i=e,u=t.length,a=0;a<u;a+=1)if(Xe(i[a])!==Xe(t[a])){i=i.slice(a);break}else a===u-1&&(i=i.slice(u));return i}function un(e,t){var s=t.measureLocation,o=t.prefix,i=t.targetText,u=t.selectionStart,a=t.split,c=e.slice(0,s);c[c.length-a.length]===a&&(c=c.slice(0,c.length-a.length)),c&&(c="".concat(c).concat(a));var p=sn(e.slice(u),i.slice(u-s-o.length),a);p.slice(0,a.length)===a&&(p=p.slice(a.length));var m="".concat(c).concat(o).concat(i).concat(a);return{text:"".concat(m).concat(p),selectionLocation:m.length}}function cn(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function dn(e,t){return!t||e.indexOf(t)===-1}function fn(e,t){var s=t.value,o=s===void 0?"":s,i=e.toLowerCase();return o.toLowerCase().indexOf(i)!==-1}var mn=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],pn=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],vn=r.forwardRef(function(e,t){var s=e.prefixCls,o=e.className,i=e.style,u=e.prefix,a=u===void 0?"@":u,c=e.split,p=c===void 0?" ":c,m=e.notFoundContent,x=m===void 0?"Not Found":m,C=e.value,h=e.defaultValue,w=e.children,v=e.options,y=e.open;e.allowClear;var b=e.silent,P=e.validateSearch,E=P===void 0?dn:P,_=e.filterOption,N=_===void 0?fn:_,$=e.onChange,S=e.onKeyDown,O=e.onKeyUp,F=e.onPressEnter,ae=e.onSearch,U=e.onSelect,re=e.onFocus,X=e.onBlur,fe=e.transitionName,me=e.placement,pe=e.direction,ve=e.getPopupContainer,ge=e.dropdownClassName,oe=e.rows,T=oe===void 0?1:oe;e.visible;var Y=e.onPopupScroll,G=Ye(e,mn),L=r.useMemo(function(){return Array.isArray(a)?a:[a]},[a]),D=r.useRef(null),A=r.useRef(null),Q=r.useRef(null),J=function(){var n;return(n=A.current)===null||n===void 0||(n=n.resizableTextArea)===null||n===void 0?void 0:n.textArea};j.useImperativeHandle(t,function(){var d;return{focus:function(){var l;return(l=A.current)===null||l===void 0?void 0:l.focus()},blur:function(){var l;return(l=A.current)===null||l===void 0?void 0:l.blur()},textarea:(d=A.current)===null||d===void 0||(d=d.resizableTextArea)===null||d===void 0?void 0:d.textArea,nativeElement:D.current}});var xe=r.useState(!1),ie=M(xe,2),V=ie[0],Ie=ie[1],tt=r.useState(""),Pe=M(tt,2),Oe=Pe[0],je=Pe[1],nt=r.useState(""),Ee=M(nt,2),Ne=Ee[0],at=Ee[1],rt=r.useState(0),Te=M(rt,2),Re=Te[0],Me=Te[1],ot=r.useState(0),_e=M(ot,2),be=_e[0],he=_e[1],it=r.useState(!1),$e=M(it,2),lt=$e[0],Fe=$e[1],st=Ge("",{defaultValue:h,value:C}),Ae=M(st,2),z=Ae[0],ut=Ae[1];r.useEffect(function(){V&&Q.current&&(Q.current.scrollTop=J().scrollTop)},[V]);var ct=j.useMemo(function(){if(y)for(var d=0;d<L.length;d+=1){var n=L[d],l=z.lastIndexOf(n);if(l>=0)return[!0,"",n,l]}return[V,Oe,Ne,Re]},[y,V,L,z,Oe,Ne,Re]),le=M(ct,4),K=le[0],Se=le[1],se=le[2],Ce=le[3],we=j.useCallback(function(d){var n;return v&&v.length>0?n=v.map(function(l){var g;return q(q({},l),{},{key:(g=l==null?void 0:l.key)!==null&&g!==void 0?g:l.value})}):n=It(w).map(function(l){var g=l.props,k=l.key;return q(q({},g),{},{label:g.children,key:k||g.value})}),n.filter(function(l){return N===!1?!0:N(d,l)})},[w,v,N]),ue=j.useMemo(function(){return we(Se)},[we,Se]),dt=en(),ft=function(n,l,g){Ie(!0),je(n),at(l),Me(g),he(0)},H=function(n){Ie(!1),Me(0),je(""),dt(n)},ke=function(n){ut(n),$==null||$(n)},mt=function(n){var l=n.target.value;ke(l)},Be=function(n){var l,g=n.value,k=g===void 0?"":g,B=un(z,{measureLocation:Ce,targetText:k,prefix:se,selectionStart:(l=J())===null||l===void 0?void 0:l.selectionStart,split:p}),W=B.text,Z=B.selectionLocation;ke(W),H(function(){cn(J(),Z)}),U==null||U(n,se)},pt=function(n){var l=n.which;if(S==null||S(n),!!K){if(l===R.UP||l===R.DOWN){var g=ue.length,k=l===R.UP?-1:1,B=(be+k+g)%g;he(B),n.preventDefault()}else if(l===R.ESC)H();else if(l===R.ENTER){if(n.preventDefault(),b)return;if(!ue.length){H();return}var W=ue[be];Be(W)}}},vt=function(n){var l=n.key,g=n.which,k=n.target,B=on(k),W=ln(B,L),Z=W.location,ce=W.prefix;if(O==null||O(n),[R.ESC,R.UP,R.DOWN,R.ENTER].indexOf(g)===-1)if(Z!==-1){var ee=B.slice(Z+ce.length),ze=E(ee,p),St=!!we(ee).length;ze?(l===ce||l==="Shift"||g===R.ALT||l==="AltGraph"||K||ee!==Se&&St)&&ft(ee,ce,Z):K&&H(),ae&&ze&&ae(ee,ce)}else K&&H()},gt=function(n){!K&&F&&F(n)},Le=r.useRef(),De=function(n){window.clearTimeout(Le.current),!lt&&n&&re&&re(n),Fe(!0)},Ve=function(n){Le.current=window.setTimeout(function(){Fe(!1),H(),X==null||X(n)},0)},xt=function(){De()},bt=function(){Ve()},ht=function(n){Y==null||Y(n)};return j.createElement("div",{className:te(s,o),style:i,ref:D},j.createElement(Pt,Qe({ref:A,value:z},G,{rows:T,onChange:mt,onKeyDown:pt,onKeyUp:vt,onPressEnter:gt,onFocus:De,onBlur:Ve})),K&&j.createElement("div",{ref:Q,className:"".concat(s,"-measure")},z.slice(0,Ce),j.createElement(Ze.Provider,{value:{notFoundContent:x,activeIndex:be,setActiveIndex:he,selectOption:Be,onFocus:xt,onBlur:bt,onScroll:ht}},j.createElement(an,{prefixCls:s,transitionName:fe,placement:me,direction:pe,options:ue,visible:!0,getPopupContainer:ve,dropdownClassName:ge},j.createElement("span",null,se))),z.slice(Ce+se.length)))}),ye=r.forwardRef(function(e,t){var s=e.suffix,o=e.prefixCls,i=o===void 0?"rc-mentions":o,u=e.defaultValue,a=e.value,c=e.allowClear,p=e.onChange,m=e.classNames,x=e.className,C=e.disabled,h=e.onClear,w=Ye(e,pn),v=r.useRef(null),y=r.useRef(null);r.useImperativeHandle(t,function(){var S,O;return q(q({},y.current),{},{nativeElement:((S=v.current)===null||S===void 0?void 0:S.nativeElement)||((O=y.current)===null||O===void 0?void 0:O.nativeElement)})});var b=Ge("",{defaultValue:u,value:a}),P=M(b,2),E=P[0],_=P[1],N=function(O){_(O),p==null||p(O)},$=function(){N("")};return j.createElement(yt,{suffix:s,prefixCls:i,value:E,allowClear:c,handleReset:$,className:x,classNames:m,disabled:C,ref:v,onClear:h},j.createElement(vn,Qe({className:m==null?void 0:m.mentions,prefixCls:i,ref:y,onChange:N,disabled:C},w)))});ye.Option=rn;const gn=e=>{const{componentCls:t,colorTextDisabled:s,controlItemBgHover:o,controlPaddingHorizontal:i,colorText:u,motionDurationSlow:a,lineHeight:c,controlHeight:p,paddingInline:m,paddingBlock:x,fontSize:C,fontSizeIcon:h,colorTextTertiary:w,colorTextQuaternary:v,colorBgElevated:y,paddingXXS:b,paddingLG:P,borderRadius:E,borderRadiusLG:_,boxShadowSecondary:N,itemPaddingVertical:$,calc:S}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},He(e)),We(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:c,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),Nt(e)),Tt(e)),Rt(e)),{"&-affix-wrapper":Object.assign(Object.assign({},We(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:m,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:P},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:S(C).mul(c).mul(.5).add(x).equal(),transform:"translateY(-50%)",margin:0,padding:0,color:v,fontSize:h,verticalAlign:-1,cursor:"pointer",transition:`color ${a}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:w},"&:active":{color:u},"&-hidden":{visibility:"hidden"}}})}),Mt(e)),{"&-disabled":{"> textarea":Object.assign({},Ft(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:u,boxSizing:"border-box",minHeight:e.calc(p).sub(2).equal(),margin:0,padding:`${de(x)} ${de(m)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},$t(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},He(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:C,fontVariant:"initial",padding:b,backgroundColor:y,borderRadius:_,outline:"none",boxShadow:N,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},_t),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${de($)} ${de(i)}`,color:u,borderRadius:E,fontWeight:"normal",lineHeight:c,cursor:"pointer",transition:`background ${a} ease`,"&:hover":{backgroundColor:o},"&-disabled":{color:s,cursor:"not-allowed","&:hover":{color:s,backgroundColor:o,cursor:"not-allowed"}},"&-selected":{color:u,fontWeight:e.fontWeightStrong,backgroundColor:o},"&-active":{backgroundColor:o}})}})})}},xn=e=>Object.assign(Object.assign({},At(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2}),bn=Ot("Mentions",e=>{const t=jt(e,Et(e));return[gn(t)]},xn);var hn=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(s[o[i]]=e[o[i]]);return s};const{Option:et}=ye;function Sn(){return!0}const Cn=r.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:i,disabled:u,loading:a,filterOption:c,children:p,notFoundContent:m,options:x,status:C,allowClear:h=!1,popupClassName:w,style:v,variant:y}=e,b=hn(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[P,E]=r.useState(!1),_=r.useRef(null),N=kt(t,_),{getPrefixCls:$,renderEmpty:S,direction:O,mentions:F}=r.useContext(Bt),{status:ae,hasFeedback:U,feedbackIcon:re}=r.useContext(Lt),X=Wt(ae,C),fe=function(){b.onFocus&&b.onFocus.apply(b,arguments),E(!0)},me=function(){b.onBlur&&b.onBlur.apply(b,arguments),E(!1)},pe=r.useMemo(()=>m!==void 0?m:(S==null?void 0:S("Select"))||r.createElement(Dt,{componentName:"Select"}),[m,S]),ve=r.useMemo(()=>a?r.createElement(et,{value:"ANTD_SEARCHING",disabled:!0},r.createElement(qe,{size:"small"})):p,[a,p]),ge=a?[{value:"ANTD_SEARCHING",disabled:!0,label:r.createElement(qe,{size:"small"})}]:x,oe=a?Sn:c,T=$("mentions",s),Y=Vt(h),G=zt(T),[L,D,A]=bn(T,G),[Q,J]=Kt("mentions",y),xe=U&&r.createElement(r.Fragment,null,re),ie=te(F==null?void 0:F.className,o,i,A,G),V=r.createElement(ye,Object.assign({silent:a,prefixCls:T,notFoundContent:pe,className:ie,disabled:u,allowClear:Y,direction:O,style:Object.assign(Object.assign({},F==null?void 0:F.style),v)},b,{filterOption:oe,onFocus:fe,onBlur:me,dropdownClassName:te(w,i,D,A,G),ref:N,options:ge,suffix:xe,classNames:{mentions:te({[`${T}-disabled`]:u,[`${T}-focused`]:P,[`${T}-rtl`]:O==="rtl"},D),variant:te({[`${T}-${Q}`]:J},Ht(T,X)),affixWrapper:D}}),ve);return L(V)}),ne=Cn;ne.Option=et;const wn=qt(ne,void 0,void 0,"mentions");ne._InternalPanelDoNotUseOrYouWillBeFired=wn;ne.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:s="@",split:o=" "}=t,i=Ut(s);return e.split(o).map(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=null;return i.some(c=>u.slice(0,c.length)===c?(a=c,!0):!1),a!==null?{prefix:a,value:u.slice(a.length)}:null}).filter(u=>!!u&&!!u.value)};const{RangePicker:yn}=Je,In={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},Fn=()=>{const[e]=I.useForm(),t=I.useWatch("variant",e);return f.jsxs(I,{...In,form:e,variant:t||"filled",style:{maxWidth:600},initialValues:{variant:"filled"},children:[f.jsx(I.Item,{label:"Form variant",name:"variant",children:f.jsx(Zt,{options:["outlined","filled","borderless","underlined"]})}),f.jsx(I.Item,{label:"Input",name:"Input",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Ue,{})}),f.jsx(I.Item,{label:"InputNumber",name:"InputNumber",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Gt,{style:{width:"100%"}})}),f.jsx(I.Item,{label:"TextArea",name:"TextArea",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Ue.TextArea,{})}),f.jsx(I.Item,{label:"Mentions",name:"Mentions",rules:[{required:!0,message:"Please input!"}],children:f.jsx(ne,{})}),f.jsx(I.Item,{label:"Select",name:"Select",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Xt,{})}),f.jsx(I.Item,{label:"Cascader",name:"Cascader",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Qt,{})}),f.jsx(I.Item,{label:"TreeSelect",name:"TreeSelect",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Jt,{})}),f.jsx(I.Item,{label:"DatePicker",name:"DatePicker",rules:[{required:!0,message:"Please input!"}],children:f.jsx(Je,{})}),f.jsx(I.Item,{label:"RangePicker",name:"RangePicker",rules:[{required:!0,message:"Please input!"}],children:f.jsx(yn,{})}),f.jsx(I.Item,{wrapperCol:{offset:6,span:16},children:f.jsx(Yt,{type:"primary",htmlType:"submit",children:"Submit"})})]})};export{Fn as default};
