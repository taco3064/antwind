import{Q as W,r as s,K,F as X,aK as J,au as U,aI as z,i as L,cM as Y,cK as Z,P as ee,a1 as A}from"./index-K_1MnLll.js";import{u as ne,C as te}from"./useBubbleLock-CLcQHODm.js";import{u as B}from"./index-C-S6p5LO.js";const D=W.createContext(null);var se=function(a,i){var c={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(c[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)i.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(c[n[l]]=a[n[l]]);return c};const ae=(a,i)=>{var c;const{prefixCls:n,className:l,rootClassName:P,children:v,indeterminate:g=!1,style:S,onMouseEnter:h,onMouseLeave:u,skipGroup:O=!1,disabled:w}=a,r=se(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:I,checkbox:d}=s.useContext(K),t=s.useContext(D),{isFormItemInput:j}=s.useContext(X),_=s.useContext(J),y=(c=(t==null?void 0:t.disabled)||w)!==null&&c!==void 0?c:_,f=s.useRef(r.value),p=s.useRef(null),E=U(i,p);s.useEffect(()=>{t==null||t.registerValue(r.value)},[]),s.useEffect(()=>{if(!O)return r.value!==f.current&&(t==null||t.cancelValue(f.current),t==null||t.registerValue(r.value),f.current=r.value),()=>t==null?void 0:t.cancelValue(r.value)},[r.value]),s.useEffect(()=>{var x;!((x=p.current)===null||x===void 0)&&x.input&&(p.current.input.indeterminate=g)},[g]);const o=k("checkbox",n),V=z(o),[$,N,R]=B(o,V),m=Object.assign({},r);t&&!O&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),t.toggleOption&&t.toggleOption({label:v,value:r.value})},m.name=t.name,m.checked=t.value.includes(r.value));const G=L(`${o}-wrapper`,{[`${o}-rtl`]:I==="rtl",[`${o}-wrapper-checked`]:m.checked,[`${o}-wrapper-disabled`]:y,[`${o}-wrapper-in-form-item`]:j},d==null?void 0:d.className,l,P,R,V,N),e=L({[`${o}-indeterminate`]:g},Y,N),[C,b]=ne(m.onClick);return $(s.createElement(Z,{component:"Checkbox",disabled:y},s.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),S),onMouseEnter:h,onMouseLeave:u,onClick:C},s.createElement(te,Object.assign({},m,{onClick:b,prefixCls:o,className:e,disabled:y,ref:E})),v!==void 0&&s.createElement("span",{className:`${o}-label`},v))))},F=s.forwardRef(ae);var le=function(a,i){var c={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(c[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)i.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(c[n[l]]=a[n[l]]);return c};const re=s.forwardRef((a,i)=>{const{defaultValue:c,children:n,options:l=[],prefixCls:P,className:v,rootClassName:g,style:S,onChange:h}=a,u=le(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=s.useContext(K),[r,k]=s.useState(u.value||c||[]),[I,d]=s.useState([]);s.useEffect(()=>{"value"in u&&k(u.value||[])},[u.value]);const t=s.useMemo(()=>l.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[l]),j=e=>{d(C=>C.filter(b=>b!==e))},_=e=>{d(C=>[].concat(A(C),[e]))},y=e=>{const C=r.indexOf(e.value),b=A(r);C===-1?b.push(e.value):b.splice(C,1),"value"in u||k(b),h==null||h(b.filter(x=>I.includes(x)).sort((x,q)=>{const H=t.findIndex(M=>M.value===x),Q=t.findIndex(M=>M.value===q);return H-Q}))},f=O("checkbox",P),p=`${f}-group`,E=z(f),[o,V,$]=B(f,E),N=ee(u,["value","disabled"]),R=l.length?t.map(e=>s.createElement(F,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:u.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:`${p}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):n,m={toggleOption:y,value:r,disabled:u.disabled,name:u.name,registerValue:_,cancelValue:j},G=L(p,{[`${p}-rtl`]:w==="rtl"},v,g,$,E,V);return o(s.createElement("div",Object.assign({className:G,style:S},N,{ref:i}),s.createElement(D.Provider,{value:m},R)))}),T=F;T.Group=re;T.__ANT_CHECKBOX=!0;export{T as C};
