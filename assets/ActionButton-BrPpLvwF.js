import{r as i,bg as x,B as y,b_ as E}from"./index-RafdppE5.js";function c(r){return!!(r!=null&&r.then)}const P=r=>{const{type:d,children:p,prefixCls:m,buttonProps:g,close:l,autoFocus:b,emitEvent:h,isSilent:f,quitOnNullishReturnValue:C,actionFn:u}=r,t=i.useRef(!1),a=i.useRef(null),[R,o]=x(!1),s=function(){l==null||l.apply(void 0,arguments)};i.useEffect(()=>{let n=null;return b&&(n=setTimeout(()=>{var e;(e=a.current)===null||e===void 0||e.focus({preventScroll:!0})})),()=>{n&&clearTimeout(n)}},[]);const k=n=>{c(n)&&(o(!0),n.then(function(){o(!1,!0),s.apply(void 0,arguments),t.current=!1},e=>{if(o(!1,!0),t.current=!1,!(f!=null&&f()))return Promise.reject(e)}))},v=n=>{if(t.current)return;if(t.current=!0,!u){s();return}let e;if(h){if(e=u(n),C&&!c(e)){t.current=!1,s(n);return}}else if(u.length)e=u(l),t.current=!1;else if(e=u(),!c(e)){s();return}k(e)};return i.createElement(y,Object.assign({},E(d),{onClick:v,loading:R,prefixCls:m},g,{ref:a}),p)};export{P as A};
