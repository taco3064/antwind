import{r as t,V as Le,ac as Be,_ as re,i as S,Z as ue,$ as Ke,T as fe,X as pe,b as P,U as be,W as de,ad as ye,ae as Te,f as Oe,g as We,m as He,e as q,a3 as Ae,af as Fe,ag as Ve,ah as Ue,ai as ve,K as Xe,Q as xe,j as d,B as me,S as Ge,D as Ye}from"./index-K_1MnLll.js";import{u as Ze}from"./context-BgCFEjPJ.js";import{u as qe,p as Ce}from"./useClosable-DqJ61lxR.js";import{S as Qe}from"./Skeleton-BsJTmiN0.js";import{R as oe}from"./index-s9PHEyzR.js";import"./useBubbleLock-CLcQHODm.js";var we=t.createContext(null),Ne=t.createContext({}),Je=["prefixCls","className","containerRef"],en=function(n){var a=n.prefixCls,o=n.className,r=n.containerRef,s=Le(n,Je),l=t.useContext(Ne),c=l.panel,h=Be(c,r);return t.createElement("div",re({className:S("".concat(a,"-content"),o),role:"dialog",ref:h},ue(n,{aria:!0}),{"aria-modal":"true"},s))};function Se(e){return typeof e=="string"&&String(Number(e))===e?(Ke(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ke={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function nn(e,n){var a,o,r,s=e.prefixCls,l=e.open,c=e.placement,h=e.inline,v=e.push,k=e.forceRender,p=e.autoFocus,j=e.keyboard,i=e.classNames,f=e.rootClassName,b=e.rootStyle,$=e.zIndex,D=e.className,E=e.id,O=e.style,C=e.motion,y=e.width,x=e.height,_=e.children,K=e.mask,R=e.maskClosable,N=e.maskMotion,I=e.maskClassName,V=e.maskStyle,T=e.afterOpenChange,B=e.onClose,W=e.onMouseEnter,Q=e.onMouseOver,J=e.onMouseLeave,U=e.onClick,ee=e.onKeyDown,ne=e.onKeyUp,g=e.styles,H=e.drawerRender,M=t.useRef(),z=t.useRef(),L=t.useRef();t.useImperativeHandle(n,function(){return M.current});var te=function(w){var G=w.keyCode,Y=w.shiftKey;switch(G){case de.TAB:{if(G===de.TAB){if(!Y&&document.activeElement===L.current){var Z;(Z=z.current)===null||Z===void 0||Z.focus({preventScroll:!0})}else if(Y&&document.activeElement===z.current){var ce;(ce=L.current)===null||ce===void 0||ce.focus({preventScroll:!0})}}break}case de.ESC:{B&&j&&(w.stopPropagation(),B(w));break}}};t.useEffect(function(){if(l&&p){var u;(u=M.current)===null||u===void 0||u.focus({preventScroll:!0})}},[l]);var se=t.useState(!1),le=fe(se,2),ae=le[0],X=le[1],m=t.useContext(we),ie;typeof v=="boolean"?ie=v?{}:{distance:0}:ie=v||{};var A=(a=(o=(r=ie)===null||r===void 0?void 0:r.distance)!==null&&o!==void 0?o:m==null?void 0:m.pushDistance)!==null&&a!==void 0?a:180,Re=t.useMemo(function(){return{pushDistance:A,push:function(){X(!0)},pull:function(){X(!1)}}},[A]);t.useEffect(function(){if(l){var u;m==null||(u=m.push)===null||u===void 0||u.call(m)}else{var w;m==null||(w=m.pull)===null||w===void 0||w.call(m)}},[l]),t.useEffect(function(){return function(){var u;m==null||(u=m.pull)===null||u===void 0||u.call(m)}},[]);var Ie=K&&t.createElement(pe,re({key:"mask"},N,{visible:l}),function(u,w){var G=u.className,Y=u.style;return t.createElement("div",{className:S("".concat(s,"-mask"),G,i==null?void 0:i.mask,I),style:P(P(P({},Y),V),g==null?void 0:g.mask),onClick:R&&l?B:void 0,ref:w})}),Me=typeof C=="function"?C(c):C,F={};if(ae&&A)switch(c){case"top":F.transform="translateY(".concat(A,"px)");break;case"bottom":F.transform="translateY(".concat(-A,"px)");break;case"left":F.transform="translateX(".concat(A,"px)");break;default:F.transform="translateX(".concat(-A,"px)");break}c==="left"||c==="right"?F.width=Se(y):F.height=Se(x);var _e={onMouseEnter:W,onMouseOver:Q,onMouseLeave:J,onClick:U,onKeyDown:ee,onKeyUp:ne},ze=t.createElement(pe,re({key:"panel"},Me,{visible:l,forceRender:k,onVisibleChanged:function(w){T==null||T(w)},removeOnLeave:!1,leavedClassName:"".concat(s,"-content-wrapper-hidden")}),function(u,w){var G=u.className,Y=u.style,Z=t.createElement(en,re({id:E,containerRef:w,prefixCls:s,className:S(D,i==null?void 0:i.content),style:P(P({},O),g==null?void 0:g.content)},ue(e,{aria:!0}),_e),_);return t.createElement("div",re({className:S("".concat(s,"-content-wrapper"),i==null?void 0:i.wrapper,G),style:P(P(P({},F),Y),g==null?void 0:g.wrapper)},ue(e,{data:!0})),H?H(Z):Z)}),ge=P({},b);return $&&(ge.zIndex=$),t.createElement(we.Provider,{value:Re},t.createElement("div",{className:S(s,"".concat(s,"-").concat(c),f,be(be({},"".concat(s,"-open"),l),"".concat(s,"-inline"),h)),style:ge,tabIndex:-1,ref:M,onKeyDown:te},Ie,t.createElement("div",{tabIndex:0,ref:z,style:ke,"aria-hidden":"true","data-sentinel":"start"}),ze,t.createElement("div",{tabIndex:0,ref:L,style:ke,"aria-hidden":"true","data-sentinel":"end"})))}var tn=t.forwardRef(nn),an=function(n){var a=n.open,o=a===void 0?!1:a,r=n.prefixCls,s=r===void 0?"rc-drawer":r,l=n.placement,c=l===void 0?"right":l,h=n.autoFocus,v=h===void 0?!0:h,k=n.keyboard,p=k===void 0?!0:k,j=n.width,i=j===void 0?378:j,f=n.mask,b=f===void 0?!0:f,$=n.maskClosable,D=$===void 0?!0:$,E=n.getContainer,O=n.forceRender,C=n.afterOpenChange,y=n.destroyOnClose,x=n.onMouseEnter,_=n.onMouseOver,K=n.onMouseLeave,R=n.onClick,N=n.onKeyDown,I=n.onKeyUp,V=n.panelRef,T=t.useState(!1),B=fe(T,2),W=B[0],Q=B[1],J=t.useState(!1),U=fe(J,2),ee=U[0],ne=U[1];ye(function(){ne(!0)},[]);var g=ee?o:!1,H=t.useRef(),M=t.useRef();ye(function(){g&&(M.current=document.activeElement)},[g]);var z=function(ae){var X;if(Q(ae),C==null||C(ae),!ae&&M.current&&!((X=H.current)!==null&&X!==void 0&&X.contains(M.current))){var m;(m=M.current)===null||m===void 0||m.focus({preventScroll:!0})}},L=t.useMemo(function(){return{panel:V}},[V]);if(!O&&!W&&!g&&y)return null;var te={onMouseEnter:x,onMouseOver:_,onMouseLeave:K,onClick:R,onKeyDown:N,onKeyUp:I},se=P(P({},n),{},{open:g,prefixCls:s,placement:c,autoFocus:v,keyboard:p,width:i,mask:b,maskClosable:D,inline:E===!1,afterOpenChange:z,ref:H},te);return t.createElement(Ne.Provider,{value:L},t.createElement(Te,{open:g||O||W,autoDestroy:!1,getContainer:E,autoLock:b&&(g||W)},t.createElement(tn,se)))};const je=e=>{var n,a;const{prefixCls:o,title:r,footer:s,extra:l,loading:c,onClose:h,headerStyle:v,bodyStyle:k,footerStyle:p,children:j,classNames:i,styles:f}=e,b=Oe("drawer"),$=t.useCallback(y=>t.createElement("button",{type:"button",onClick:h,"aria-label":"Close",className:`${o}-close`},y),[h]),[D,E]=qe(Ce(e),Ce(b),{closable:!0,closeIconRender:$}),O=t.useMemo(()=>{var y,x;return!r&&!D?null:t.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(y=b.styles)===null||y===void 0?void 0:y.header),v),f==null?void 0:f.header),className:S(`${o}-header`,{[`${o}-header-close-only`]:D&&!r&&!l},(x=b.classNames)===null||x===void 0?void 0:x.header,i==null?void 0:i.header)},t.createElement("div",{className:`${o}-header-title`},E,r&&t.createElement("div",{className:`${o}-title`},r)),l&&t.createElement("div",{className:`${o}-extra`},l))},[D,E,l,v,o,r]),C=t.useMemo(()=>{var y,x;if(!s)return null;const _=`${o}-footer`;return t.createElement("div",{className:S(_,(y=b.classNames)===null||y===void 0?void 0:y.footer,i==null?void 0:i.footer),style:Object.assign(Object.assign(Object.assign({},(x=b.styles)===null||x===void 0?void 0:x.footer),p),f==null?void 0:f.footer)},s)},[s,p,o]);return t.createElement(t.Fragment,null,O,t.createElement("div",{className:S(`${o}-body`,i==null?void 0:i.body,(n=b.classNames)===null||n===void 0?void 0:n.body),style:Object.assign(Object.assign(Object.assign({},(a=b.styles)===null||a===void 0?void 0:a.body),k),f==null?void 0:f.body)},c?t.createElement(Qe,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):j),C)},on=e=>{const n="100%";return{left:`translateX(-${n})`,right:`translateX(${n})`,top:`translateY(-${n})`,bottom:`translateY(${n})`}[e]},$e=(e,n)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":n}),"&-leave":Object.assign(Object.assign({},n),{"&-active":e})}),De=(e,n)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}}},$e({opacity:e},{opacity:1})),rn=(e,n)=>[De(.7,n),$e({transform:on(e)},{transform:"none"})],sn=e=>{const{componentCls:n,motionDurationSlow:a}=e;return{[n]:{[`${n}-mask-motion`]:De(0,a),[`${n}-panel-motion`]:["left","right","top","bottom"].reduce((o,r)=>Object.assign(Object.assign({},o),{[`&-${r}`]:rn(r,a)}),{})}}},ln=e=>{const{borderRadiusSM:n,componentCls:a,zIndexPopup:o,colorBgMask:r,colorBgElevated:s,motionDurationSlow:l,motionDurationMid:c,paddingXS:h,padding:v,paddingLG:k,fontSizeLG:p,lineHeightLG:j,lineWidth:i,lineType:f,colorSplit:b,marginXS:$,colorIcon:D,colorIconHover:E,colorBgTextHover:O,colorBgTextActive:C,colorText:y,fontWeightStrong:x,footerPaddingBlock:_,footerPaddingInline:K,calc:R}=e,N=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:y,"&-pure":{position:"relative",background:s,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:o,background:r,pointerEvents:"auto"},[N]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${l}`,"&-hidden":{display:"none"}},[`&-left > ${N}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${N}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${N}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${N}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:s,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${q(v)} ${q(k)}`,fontSize:p,lineHeight:j,borderBottom:`${q(i)} ${f} ${b}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:Object.assign({display:"inline-flex",width:R(p).add(h).equal(),height:R(p).add(h).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",marginInlineEnd:$,color:D,fontWeight:x,fontSize:p,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${c}`,textRendering:"auto","&:hover":{color:E,backgroundColor:O,textDecoration:"none"},"&:active":{backgroundColor:C}},Ae(e)),[`${a}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:p,lineHeight:j},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:k,overflow:"auto",[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${a}-footer`]:{flexShrink:0,padding:`${q(_)} ${q(K)}`,borderTop:`${q(i)} ${f} ${b}`},"&-rtl":{direction:"rtl"}}}},cn=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Ee=We("Drawer",e=>{const n=He(e,{});return[ln(n),sn(n)]},cn);var Pe=function(e,n){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]]);return a};const dn={distance:180},he=e=>{const{rootClassName:n,width:a,height:o,size:r="default",mask:s=!0,push:l=dn,open:c,afterOpenChange:h,onClose:v,prefixCls:k,getContainer:p,style:j,className:i,visible:f,afterVisibleChange:b,maskStyle:$,drawerStyle:D,contentWrapperStyle:E}=e,O=Pe(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:C,getPrefixCls:y,direction:x,className:_,style:K,classNames:R,styles:N}=Oe("drawer"),I=y("drawer",k),[V,T,B]=Ee(I),W=p===void 0&&C?()=>C(document.body):p,Q=S({"no-mask":!s,[`${I}-rtl`]:x==="rtl"},n,T,B),J=t.useMemo(()=>a??(r==="large"?736:378),[a,r]),U=t.useMemo(()=>o??(r==="large"?736:378),[o,r]),ee={motionName:ve(I,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ne=te=>({motionName:ve(I,`panel-motion-${te}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),g=Ze(),[H,M]=Fe("Drawer",O.zIndex),{classNames:z={},styles:L={}}=O;return V(t.createElement(Ve,{form:!0,space:!0},t.createElement(Ue.Provider,{value:M},t.createElement(an,Object.assign({prefixCls:I,onClose:v,maskMotion:ee,motion:ne},O,{classNames:{mask:S(z.mask,R.mask),content:S(z.content,R.content),wrapper:S(z.wrapper,R.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},L.mask),$),N.mask),content:Object.assign(Object.assign(Object.assign({},L.content),D),N.content),wrapper:Object.assign(Object.assign(Object.assign({},L.wrapper),E),N.wrapper)},open:c??f,mask:s,push:l,width:J,height:U,style:Object.assign(Object.assign({},K),j),className:S(_,i),rootClassName:Q,getContainer:W,afterOpenChange:h??b,panelRef:g,zIndex:H}),t.createElement(je,Object.assign({prefixCls:I},O,{onClose:v}))))))},un=e=>{const{prefixCls:n,style:a,className:o,placement:r="right"}=e,s=Pe(e,["prefixCls","style","className","placement"]),{getPrefixCls:l}=t.useContext(Xe),c=l("drawer",n),[h,v,k]=Ee(c),p=S(c,`${c}-pure`,`${c}-${r}`,v,k,o);return h(t.createElement("div",{className:p,style:a},t.createElement(je,Object.assign({prefixCls:c},s))))};he._InternalPanelDoNotUseOrYouWillBeFired=un;const fn=()=>{const[e,n]=xe.useState(!1),[a,o]=xe.useState(!0),r=()=>{n(!0),o(!0),setTimeout(()=>{o(!1)},2e3)};return d.jsxs(d.Fragment,{children:[d.jsx(me,{type:"primary",onClick:r,children:"Open Drawer"}),d.jsxs(he,{closable:!0,destroyOnClose:!0,title:d.jsx("p",{children:"Loading Drawer"}),placement:"right",open:e,loading:a,onClose:()=>n(!1),children:[d.jsx(me,{type:"primary",style:{marginBottom:16},onClick:r,children:"Reload"}),d.jsx("p",{children:"Some contents..."}),d.jsx("p",{children:"Some contents..."}),d.jsx("p",{children:"Some contents..."})]})]})},mn=()=>{const[e,n]=t.useState(!1),[a,o]=t.useState("left"),r=()=>{n(!0)},s=()=>{n(!1)},l=c=>{o(c.target.value)};return d.jsxs(d.Fragment,{children:[d.jsxs(Ge,{children:[d.jsxs(oe.Group,{value:a,onChange:l,children:[d.jsx(oe,{value:"top",children:"top"}),d.jsx(oe,{value:"right",children:"right"}),d.jsx(oe,{value:"bottom",children:"bottom"}),d.jsx(oe,{value:"left",children:"left"})]}),d.jsx(me,{type:"primary",onClick:r,children:"Open"})]}),d.jsxs(he,{title:"Basic Drawer",placement:a,closable:!1,onClose:s,open:e,children:[d.jsx("p",{children:"Some contents..."}),d.jsx("p",{children:"Some contents..."}),d.jsx("p",{children:"Some contents..."})]},a)]})};function xn(){return d.jsx(Ye,{title:"Drawer",items:{Loading:fn,Placement:mn}})}export{xn as default};
