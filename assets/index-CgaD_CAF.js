import{r as a,U as Ie,ab as Re,_ as ne,A as x,Z as ce,Y as Me,Q as de,W as me,a as P,T as fe,V as ie,ac as ve,ad as _e,y as Ce,t as ze,v as Le,w as Z,a2 as We,ae as He,af as Ke,ag as Te,ah as ge,J as Ae}from"./index-BZyIQ5t4.js";import{u as Be}from"./context-CX_op-f9.js";import{u as Fe,p as he}from"./useClosable-t9t59AHk.js";import{S as Ve}from"./Skeleton-Dh4rWQWS.js";var be=a.createContext(null),we=a.createContext({}),Ue=["prefixCls","className","containerRef"],Xe=function(t){var o=t.prefixCls,n=t.className,r=t.containerRef,l=Ie(t,Ue),i=a.useContext(we),c=i.panel,f=Re(c,r);return a.createElement("div",ne({className:x("".concat(o,"-content"),n),role:"dialog",ref:f},ce(t,{aria:!0}),{"aria-modal":"true"},l))};function pe(e){return typeof e=="string"&&String(Number(e))===e?(Me(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ye={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Ye(e,t){var o,n,r,l=e.prefixCls,i=e.open,c=e.placement,f=e.inline,p=e.push,S=e.forceRender,g=e.autoFocus,O=e.keyboard,s=e.classNames,u=e.rootClassName,h=e.rootStyle,$=e.zIndex,E=e.className,D=e.id,k=e.style,C=e.motion,b=e.width,y=e.height,M=e.children,W=e.mask,j=e.maskClosable,N=e.maskMotion,I=e.maskClassName,F=e.maskStyle,H=e.afterOpenChange,L=e.onClose,K=e.onMouseEnter,q=e.onMouseOver,J=e.onMouseLeave,V=e.onClick,Q=e.onKeyDown,ee=e.onKeyUp,v=e.styles,T=e.drawerRender,R=a.useRef(),_=a.useRef(),z=a.useRef();a.useImperativeHandle(t,function(){return R.current});var te=function(w){var X=w.keyCode,Y=w.shiftKey;switch(X){case ie.TAB:{if(X===ie.TAB){if(!Y&&document.activeElement===z.current){var G;(G=_.current)===null||G===void 0||G.focus({preventScroll:!0})}else if(Y&&document.activeElement===_.current){var le;(le=z.current)===null||le===void 0||le.focus({preventScroll:!0})}}break}case ie.ESC:{L&&O&&(w.stopPropagation(),L(w));break}}};a.useEffect(function(){if(i&&g){var d;(d=R.current)===null||d===void 0||d.focus({preventScroll:!0})}},[i]);var oe=a.useState(!1),re=de(oe,2),ae=re[0],U=re[1],m=a.useContext(be),se;typeof p=="boolean"?se=p?{}:{distance:0}:se=p||{};var A=(o=(n=(r=se)===null||r===void 0?void 0:r.distance)!==null&&n!==void 0?n:m==null?void 0:m.pushDistance)!==null&&o!==void 0?o:180,$e=a.useMemo(function(){return{pushDistance:A,push:function(){U(!0)},pull:function(){U(!1)}}},[A]);a.useEffect(function(){if(i){var d;m==null||(d=m.push)===null||d===void 0||d.call(m)}else{var w;m==null||(w=m.pull)===null||w===void 0||w.call(m)}},[i]),a.useEffect(function(){return function(){var d;m==null||(d=m.pull)===null||d===void 0||d.call(m)}},[]);var Ee=W&&a.createElement(me,ne({key:"mask"},N,{visible:i}),function(d,w){var X=d.className,Y=d.style;return a.createElement("div",{className:x("".concat(l,"-mask"),X,s==null?void 0:s.mask,I),style:P(P(P({},Y),F),v==null?void 0:v.mask),onClick:j&&i?L:void 0,ref:w})}),De=typeof C=="function"?C(c):C,B={};if(ae&&A)switch(c){case"top":B.transform="translateY(".concat(A,"px)");break;case"bottom":B.transform="translateY(".concat(-A,"px)");break;case"left":B.transform="translateX(".concat(A,"px)");break;default:B.transform="translateX(".concat(-A,"px)");break}c==="left"||c==="right"?B.width=pe(b):B.height=pe(y);var Pe={onMouseEnter:K,onMouseOver:q,onMouseLeave:J,onClick:V,onKeyDown:Q,onKeyUp:ee},je=a.createElement(me,ne({key:"panel"},De,{visible:i,forceRender:S,onVisibleChanged:function(w){H==null||H(w)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(d,w){var X=d.className,Y=d.style,G=a.createElement(Xe,ne({id:D,containerRef:w,prefixCls:l,className:x(E,s==null?void 0:s.content),style:P(P({},k),v==null?void 0:v.content)},ce(e,{aria:!0}),Pe),M);return a.createElement("div",ne({className:x("".concat(l,"-content-wrapper"),s==null?void 0:s.wrapper,X),style:P(P(P({},B),Y),v==null?void 0:v.wrapper)},ce(e,{data:!0})),T?T(G):G)}),ue=P({},h);return $&&(ue.zIndex=$),a.createElement(be.Provider,{value:$e},a.createElement("div",{className:x(l,"".concat(l,"-").concat(c),u,fe(fe({},"".concat(l,"-open"),i),"".concat(l,"-inline"),f)),style:ue,tabIndex:-1,ref:R,onKeyDown:te},Ee,a.createElement("div",{tabIndex:0,ref:_,style:ye,"aria-hidden":"true","data-sentinel":"start"}),je,a.createElement("div",{tabIndex:0,ref:z,style:ye,"aria-hidden":"true","data-sentinel":"end"})))}var Ge=a.forwardRef(Ye),Ze=function(t){var o=t.open,n=o===void 0?!1:o,r=t.prefixCls,l=r===void 0?"rc-drawer":r,i=t.placement,c=i===void 0?"right":i,f=t.autoFocus,p=f===void 0?!0:f,S=t.keyboard,g=S===void 0?!0:S,O=t.width,s=O===void 0?378:O,u=t.mask,h=u===void 0?!0:u,$=t.maskClosable,E=$===void 0?!0:$,D=t.getContainer,k=t.forceRender,C=t.afterOpenChange,b=t.destroyOnClose,y=t.onMouseEnter,M=t.onMouseOver,W=t.onMouseLeave,j=t.onClick,N=t.onKeyDown,I=t.onKeyUp,F=t.panelRef,H=a.useState(!1),L=de(H,2),K=L[0],q=L[1],J=a.useState(!1),V=de(J,2),Q=V[0],ee=V[1];ve(function(){ee(!0)},[]);var v=Q?n:!1,T=a.useRef(),R=a.useRef();ve(function(){v&&(R.current=document.activeElement)},[v]);var _=function(ae){var U;if(q(ae),C==null||C(ae),!ae&&R.current&&!((U=T.current)!==null&&U!==void 0&&U.contains(R.current))){var m;(m=R.current)===null||m===void 0||m.focus({preventScroll:!0})}},z=a.useMemo(function(){return{panel:F}},[F]);if(!k&&!K&&!v&&b)return null;var te={onMouseEnter:y,onMouseOver:M,onMouseLeave:W,onClick:j,onKeyDown:N,onKeyUp:I},oe=P(P({},t),{},{open:v,prefixCls:l,placement:c,autoFocus:p,keyboard:g,width:s,mask:h,maskClosable:E,inline:D===!1,afterOpenChange:_,ref:T},te);return a.createElement(we.Provider,{value:z},a.createElement(_e,{open:v||k||K,autoDestroy:!1,getContainer:D,autoLock:h&&(v||K)},a.createElement(Ge,oe)))};const xe=e=>{var t,o;const{prefixCls:n,title:r,footer:l,extra:i,loading:c,onClose:f,headerStyle:p,bodyStyle:S,footerStyle:g,children:O,classNames:s,styles:u}=e,h=Ce("drawer"),$=a.useCallback(b=>a.createElement("button",{type:"button",onClick:f,"aria-label":"Close",className:`${n}-close`},b),[f]),[E,D]=Fe(he(e),he(h),{closable:!0,closeIconRender:$}),k=a.useMemo(()=>{var b,y;return!r&&!E?null:a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(b=h.styles)===null||b===void 0?void 0:b.header),p),u==null?void 0:u.header),className:x(`${n}-header`,{[`${n}-header-close-only`]:E&&!r&&!i},(y=h.classNames)===null||y===void 0?void 0:y.header,s==null?void 0:s.header)},a.createElement("div",{className:`${n}-header-title`},D,r&&a.createElement("div",{className:`${n}-title`},r)),i&&a.createElement("div",{className:`${n}-extra`},i))},[E,D,i,p,n,r]),C=a.useMemo(()=>{var b,y;if(!l)return null;const M=`${n}-footer`;return a.createElement("div",{className:x(M,(b=h.classNames)===null||b===void 0?void 0:b.footer,s==null?void 0:s.footer),style:Object.assign(Object.assign(Object.assign({},(y=h.styles)===null||y===void 0?void 0:y.footer),g),u==null?void 0:u.footer)},l)},[l,g,n]);return a.createElement(a.Fragment,null,k,a.createElement("div",{className:x(`${n}-body`,s==null?void 0:s.body,(t=h.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(o=h.styles)===null||o===void 0?void 0:o.body),S),u==null?void 0:u.body)},c?a.createElement(Ve,{active:!0,title:!1,paragraph:{rows:5},className:`${n}-body-skeleton`}):O),C)},qe=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},Se=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),ke=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},Se({opacity:e},{opacity:1})),Je=(e,t)=>[ke(.7,t),Se({transform:qe(e)},{transform:"none"})],Qe=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:ke(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((n,r)=>Object.assign(Object.assign({},n),{[`&-${r}`]:Je(r,o)}),{})}}},et=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:n,colorBgMask:r,colorBgElevated:l,motionDurationSlow:i,motionDurationMid:c,paddingXS:f,padding:p,paddingLG:S,fontSizeLG:g,lineHeightLG:O,lineWidth:s,lineType:u,colorSplit:h,marginXS:$,colorIcon:E,colorIconHover:D,colorBgTextHover:k,colorBgTextActive:C,colorText:b,fontWeightStrong:y,footerPaddingBlock:M,footerPaddingInline:W,calc:j}=e,N=`${o}-content-wrapper`;return{[o]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none",color:b,"&-pure":{position:"relative",background:l,display:"flex",flexDirection:"column",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:n,background:r,pointerEvents:"auto"},[N]:{position:"absolute",zIndex:n,maxWidth:"100vw",transition:`all ${i}`,"&-hidden":{display:"none"}},[`&-left > ${N}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${N}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${N}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${N}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:l,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Z(p)} ${Z(S)}`,fontSize:g,lineHeight:O,borderBottom:`${Z(s)} ${u} ${h}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:Object.assign({display:"inline-flex",width:j(g).add(f).equal(),height:j(g).add(f).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:$,color:E,fontWeight:y,fontSize:g,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${c}`,textRendering:"auto","&:hover":{color:D,backgroundColor:k,textDecoration:"none"},"&:active":{backgroundColor:C}},We(e)),[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:g,lineHeight:O},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:S,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${Z(M)} ${Z(W)}`,borderTop:`${Z(s)} ${u} ${h}`},"&-rtl":{direction:"rtl"}}}},tt=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Ne=ze("Drawer",e=>{const t=Le(e,{});return[et(t),Qe(t)]},tt);var Oe=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const at={distance:180},nt=e=>{const{rootClassName:t,width:o,height:n,size:r="default",mask:l=!0,push:i=at,open:c,afterOpenChange:f,onClose:p,prefixCls:S,getContainer:g,style:O,className:s,visible:u,afterVisibleChange:h,maskStyle:$,drawerStyle:E,contentWrapperStyle:D}=e,k=Oe(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:C,getPrefixCls:b,direction:y,className:M,style:W,classNames:j,styles:N}=Ce("drawer"),I=b("drawer",S),[F,H,L]=Ne(I),K=g===void 0&&C?()=>C(document.body):g,q=x({"no-mask":!l,[`${I}-rtl`]:y==="rtl"},t,H,L),J=a.useMemo(()=>o??(r==="large"?736:378),[o,r]),V=a.useMemo(()=>n??(r==="large"?736:378),[n,r]),Q={motionName:ge(I,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ee=te=>({motionName:ge(I,`panel-motion-${te}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),v=Be(),[T,R]=He("Drawer",k.zIndex),{classNames:_={},styles:z={}}=k;return F(a.createElement(Ke,{form:!0,space:!0},a.createElement(Te.Provider,{value:R},a.createElement(Ze,Object.assign({prefixCls:I,onClose:p,maskMotion:Q,motion:ee},k,{classNames:{mask:x(_.mask,j.mask),content:x(_.content,j.content),wrapper:x(_.wrapper,j.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},z.mask),$),N.mask),content:Object.assign(Object.assign(Object.assign({},z.content),E),N.content),wrapper:Object.assign(Object.assign(Object.assign({},z.wrapper),D),N.wrapper)},open:c??u,mask:l,push:i,width:J,height:V,style:Object.assign(Object.assign({},W),O),className:x(M,s),rootClassName:q,getContainer:K,afterOpenChange:f??h,panelRef:v,zIndex:T}),a.createElement(xe,Object.assign({prefixCls:I},k,{onClose:p}))))))},ot=e=>{const{prefixCls:t,style:o,className:n,placement:r="right"}=e,l=Oe(e,["prefixCls","style","className","placement"]),{getPrefixCls:i}=a.useContext(Ae),c=i("drawer",t),[f,p,S]=Ne(c),g=x(c,`${c}-pure`,`${c}-${r}`,p,S,n);return f(a.createElement("div",{className:g,style:o},a.createElement(xe,Object.assign({prefixCls:c},l))))};nt._InternalPanelDoNotUseOrYouWillBeFired=ot;export{nt as D};
