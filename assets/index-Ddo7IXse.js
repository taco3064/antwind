import{P as W,r as a,J as z,p as X,ay as Q,ai as U,aw as B,A as L,aS as Y,az as Z,O as ee,a0 as M}from"./index-DERcz0tS.js";import{u as te,C as se}from"./useBubbleLock-DwIkwvTR.js";import{u as D}from"./index-BjnIb6lG.js";const T=W.createContext(null);var ae=function(l,u){var o={};for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&u.indexOf(t)<0&&(o[t]=l[t]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(l);n<t.length;n++)u.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(l,t[n])&&(o[t[n]]=l[t[n]]);return o};const le=(l,u)=>{var o;const{prefixCls:t,className:n,rootClassName:N,children:x,indeterminate:g=!1,style:P,onMouseEnter:h,onMouseLeave:i,skipGroup:O=!1,disabled:w}=l,r=ae(l,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:j,checkbox:d}=a.useContext(z),s=a.useContext(T),{isFormItemInput:I}=a.useContext(X),_=a.useContext(Q),y=(o=(s==null?void 0:s.disabled)||w)!==null&&o!==void 0?o:_,f=a.useRef(r.value),b=a.useRef(null),E=U(u,b);a.useEffect(()=>{s==null||s.registerValue(r.value)},[]),a.useEffect(()=>{if(!O)return r.value!==f.current&&(s==null||s.cancelValue(f.current),s==null||s.registerValue(r.value),f.current=r.value),()=>s==null?void 0:s.cancelValue(r.value)},[r.value]),a.useEffect(()=>{var p;!((p=b.current)===null||p===void 0)&&p.input&&(b.current.input.indeterminate=g)},[g]);const c=k("checkbox",t),S=B(c),[$,V,R]=D(c,S),m=Object.assign({},r);s&&!O&&(m.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),s.toggleOption&&s.toggleOption({label:x,value:r.value})},m.name=s.name,m.checked=s.value.includes(r.value));const G=L(`${c}-wrapper`,{[`${c}-rtl`]:j==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:y,[`${c}-wrapper-in-form-item`]:I},d==null?void 0:d.className,n,N,R,S,V),e=L({[`${c}-indeterminate`]:g},Y,V),[v,C]=te(m.onClick);return $(a.createElement(Z,{component:"Checkbox",disabled:y},a.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:i,onClick:v},a.createElement(se,Object.assign({},m,{onClick:C,prefixCls:c,className:e,disabled:y,ref:E})),x!==void 0&&a.createElement("span",{className:`${c}-label`},x))))},q=a.forwardRef(le);var ne=function(l,u){var o={};for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&u.indexOf(t)<0&&(o[t]=l[t]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(l);n<t.length;n++)u.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(l,t[n])&&(o[t[n]]=l[t[n]]);return o};const re=a.forwardRef((l,u)=>{const{defaultValue:o,children:t,options:n=[],prefixCls:N,className:x,rootClassName:g,style:P,onChange:h}=l,i=ne(l,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=a.useContext(z),[r,k]=a.useState(i.value||o||[]),[j,d]=a.useState([]);a.useEffect(()=>{"value"in i&&k(i.value||[])},[i.value]);const s=a.useMemo(()=>n.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[n]),I=e=>{d(v=>v.filter(C=>C!==e))},_=e=>{d(v=>[].concat(M(v),[e]))},y=e=>{const v=r.indexOf(e.value),C=M(r);v===-1?C.push(e.value):C.splice(v,1),"value"in i||k(C),h==null||h(C.filter(p=>j.includes(p)).sort((p,H)=>{const J=s.findIndex(A=>A.value===p),K=s.findIndex(A=>A.value===H);return J-K}))},f=O("checkbox",N),b=`${f}-group`,E=B(f),[c,S,$]=D(f,E),V=ee(i,["value","disabled"]),R=n.length?s.map(e=>a.createElement(q,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:i.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:`${b}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,m={toggleOption:y,value:r,disabled:i.disabled,name:i.name,registerValue:_,cancelValue:I},G=L(b,{[`${b}-rtl`]:w==="rtl"},x,g,$,E,S);return c(a.createElement("div",Object.assign({className:G,style:P},V,{ref:u}),a.createElement(T.Provider,{value:m},R)))}),F=q;F.Group=re;F.__ANT_CHECKBOX=!0;export{F as C};
